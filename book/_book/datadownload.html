<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="" xml:lang="">
<head>

  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <title>Chapter 5 Get existing data | Quantitative Politics with R</title>
  <meta name="description" content="Chapter 5 Get existing data | Quantitative Politics with R" />
  <meta name="generator" content="bookdown 0.16 and GitBook 2.6.7" />

  <meta property="og:title" content="Chapter 5 Get existing data | Quantitative Politics with R" />
  <meta property="og:type" content="book" />
  <meta property="og:url" content="http://qpolr.com" />
  
  
  <meta name="github-repo" content="erikgahner/qpolr" />

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="Chapter 5 Get existing data | Quantitative Politics with R" />
  
  
  

<meta name="author" content="Erik Gahner Larsen and ZoltÃ¡n Fazekas" />


<meta name="date" content="2019-11-26" />

  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black" />
  
  
<link rel="prev" href="text.html"/>
<link rel="next" href="create.html"/>
<script src="libs/jquery-2.2.3/jquery.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-table.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-clipboard.css" rel="stylesheet" />











<style type="text/css">
div.sourceCode { overflow-x: auto; }
table.sourceCode, tr.sourceCode, td.lineNumbers, td.sourceCode {
  margin: 0; padding: 0; vertical-align: baseline; border: none; }
table.sourceCode { width: 100%; line-height: 100%; }
td.lineNumbers { text-align: right; padding-right: 4px; padding-left: 4px; color: #aaaaaa; border-right: 1px solid #aaaaaa; }
td.sourceCode { padding-left: 5px; }
code > span.kw { color: #007020; font-weight: bold; } /* Keyword */
code > span.dt { color: #902000; } /* DataType */
code > span.dv { color: #40a070; } /* DecVal */
code > span.bn { color: #40a070; } /* BaseN */
code > span.fl { color: #40a070; } /* Float */
code > span.ch { color: #4070a0; } /* Char */
code > span.st { color: #4070a0; } /* String */
code > span.co { color: #60a0b0; font-style: italic; } /* Comment */
code > span.ot { color: #007020; } /* Other */
code > span.al { color: #ff0000; font-weight: bold; } /* Alert */
code > span.fu { color: #06287e; } /* Function */
code > span.er { color: #ff0000; font-weight: bold; } /* Error */
code > span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
code > span.cn { color: #880000; } /* Constant */
code > span.sc { color: #4070a0; } /* SpecialChar */
code > span.vs { color: #4070a0; } /* VerbatimString */
code > span.ss { color: #bb6688; } /* SpecialString */
code > span.im { } /* Import */
code > span.va { color: #19177c; } /* Variable */
code > span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code > span.op { color: #666666; } /* Operator */
code > span.bu { } /* BuiltIn */
code > span.ex { } /* Extension */
code > span.pp { color: #bc7a00; } /* Preprocessor */
code > span.at { color: #7d9029; } /* Attribute */
code > span.do { color: #ba2121; font-style: italic; } /* Documentation */
code > span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code > span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code > span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
</style>

</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li class="chapter" data-level="1" data-path="index.html"><a href="index.html"><i class="fa fa-check"></i><b>1</b> Introduction</a><ul>
<li class="chapter" data-level="1.1" data-path="index.html"><a href="index.html#why-r"><i class="fa fa-check"></i><b>1.1</b> Why <code>R</code>?</a></li>
<li class="chapter" data-level="1.2" data-path="index.html"><a href="index.html#installing-r"><i class="fa fa-check"></i><b>1.2</b> Installing <code>R</code></a></li>
<li class="chapter" data-level="1.3" data-path="index.html"><a href="index.html#installing-rstudio"><i class="fa fa-check"></i><b>1.3</b> Installing RStudio</a></li>
<li class="chapter" data-level="1.4" data-path="index.html"><a href="index.html#installing-r-packages"><i class="fa fa-check"></i><b>1.4</b> Installing <code>R</code> packages</a></li>
<li class="chapter" data-level="1.5" data-path="index.html"><a href="index.html#problems-and-help"><i class="fa fa-check"></i><b>1.5</b> Problems and help</a></li>
</ul></li>
<li class="chapter" data-level="2" data-path="basics.html"><a href="basics.html"><i class="fa fa-check"></i><b>2</b> Basics</a><ul>
<li class="chapter" data-level="2.1" data-path="basics.html"><a href="basics.html#numbers-as-data"><i class="fa fa-check"></i><b>2.1</b> Numbers as data</a></li>
<li class="chapter" data-level="2.2" data-path="basics.html"><a href="basics.html#missing-values-na"><i class="fa fa-check"></i><b>2.2</b> Missing values (<code>NA</code>)</a></li>
<li class="chapter" data-level="2.3" data-path="basics.html"><a href="basics.html#logical-operators"><i class="fa fa-check"></i><b>2.3</b> Logical operators</a></li>
<li class="chapter" data-level="2.4" data-path="basics.html"><a href="basics.html#text-as-data"><i class="fa fa-check"></i><b>2.4</b> Text as data</a></li>
<li class="chapter" data-level="2.5" data-path="basics.html"><a href="basics.html#data-frames"><i class="fa fa-check"></i><b>2.5</b> Data frames</a></li>
<li class="chapter" data-level="2.6" data-path="basics.html"><a href="basics.html#import-and-export-data-frames"><i class="fa fa-check"></i><b>2.6</b> Import and export data frames</a></li>
<li class="chapter" data-level="2.7" data-path="basics.html"><a href="basics.html#environment"><i class="fa fa-check"></i><b>2.7</b> Environment</a></li>
</ul></li>
<li class="part"><span><b>I Working with data</b></span></li>
<li class="chapter" data-level="3" data-path="data.html"><a href="data.html"><i class="fa fa-check"></i><b>3</b> Data management</a><ul>
<li class="chapter" data-level="3.1" data-path="data.html"><a href="data.html#selecting-variables-select"><i class="fa fa-check"></i><b>3.1</b> Selecting variables: <code>select()</code></a></li>
<li class="chapter" data-level="3.2" data-path="data.html"><a href="data.html#selecting-observations-filter"><i class="fa fa-check"></i><b>3.2</b> Selecting observations: <code>filter()</code></a></li>
<li class="chapter" data-level="3.3" data-path="data.html"><a href="data.html#sorting-observations-arrange"><i class="fa fa-check"></i><b>3.3</b> Sorting observations: <code>arrange()</code></a></li>
<li class="chapter" data-level="3.4" data-path="data.html"><a href="data.html#rename-variables-rename"><i class="fa fa-check"></i><b>3.4</b> Rename variables: <code>rename()</code></a></li>
<li class="chapter" data-level="3.5" data-path="data.html"><a href="data.html#create-variables-mutate"><i class="fa fa-check"></i><b>3.5</b> Create variables: <code>mutate()</code></a></li>
<li class="chapter" data-level="3.6" data-path="data.html"><a href="data.html#the-pipe-operator"><i class="fa fa-check"></i><b>3.6</b> The pipe operator: <code>%&gt;%</code></a></li>
<li class="chapter" data-level="3.7" data-path="data.html"><a href="data.html#running-functions-on-variables-apply"><i class="fa fa-check"></i><b>3.7</b> Running functions on variables: <code>apply()</code></a></li>
<li class="chapter" data-level="3.8" data-path="data.html"><a href="data.html#aggregating-variables-summarize-and-group_by"><i class="fa fa-check"></i><b>3.8</b> Aggregating variables: <code>summarize()</code> and <code>group_by()</code></a></li>
<li class="chapter" data-level="3.9" data-path="data.html"><a href="data.html#recoding-variables-case_when"><i class="fa fa-check"></i><b>3.9</b> Recoding variables: <code>case_when()</code></a></li>
<li class="chapter" data-level="3.10" data-path="data.html"><a href="data.html#getting-a-variable-from-a-data-frame-pull"><i class="fa fa-check"></i><b>3.10</b> Getting a variable from a data frame: <code>pull()</code></a></li>
</ul></li>
<li class="chapter" data-level="4" data-path="text.html"><a href="text.html"><i class="fa fa-check"></i><b>4</b> Manipulating text</a><ul>
<li class="chapter" data-level="4.1" data-path="text.html"><a href="text.html#strings"><i class="fa fa-check"></i><b>4.1</b> Strings</a></li>
<li class="chapter" data-level="4.2" data-path="text.html"><a href="text.html#factors"><i class="fa fa-check"></i><b>4.2</b> Factors</a></li>
</ul></li>
<li class="chapter" data-level="5" data-path="datadownload.html"><a href="datadownload.html"><i class="fa fa-check"></i><b>5</b> Get existing data</a><ul>
<li class="chapter" data-level="5.1" data-path="datadownload.html"><a href="datadownload.html#using-data-from-data-packages"><i class="fa fa-check"></i><b>5.1</b> Using data from data packages</a></li>
<li class="chapter" data-level="5.2" data-path="datadownload.html"><a href="datadownload.html#download-data-from-webpages"><i class="fa fa-check"></i><b>5.2</b> Download data from webpages</a></li>
<li class="chapter" data-level="5.3" data-path="datadownload.html"><a href="datadownload.html#data-european-social-survey-essurvey"><i class="fa fa-check"></i><b>5.3</b> Data: European Social Survey (<code>essurvey</code>)</a></li>
<li class="chapter" data-level="5.4" data-path="datadownload.html"><a href="datadownload.html#data-manifesto-project-dataset-manifestor"><i class="fa fa-check"></i><b>5.4</b> Data: Manifesto Project Dataset (<code>manifestoR</code>)</a></li>
<li class="chapter" data-level="5.5" data-path="datadownload.html"><a href="datadownload.html#data-varieties-of-democracy-vdem"><i class="fa fa-check"></i><b>5.5</b> Data: Varieties of Democracy (<code>vdem</code>)</a></li>
<li class="chapter" data-level="5.6" data-path="datadownload.html"><a href="datadownload.html#data-world-development-indicators-wdi"><i class="fa fa-check"></i><b>5.6</b> Data: World Development Indicators (<code>WDI</code>)</a></li>
<li class="chapter" data-level="5.7" data-path="datadownload.html"><a href="datadownload.html#data-github-repositories"><i class="fa fa-check"></i><b>5.7</b> Data: GitHub repositories</a></li>
</ul></li>
<li class="chapter" data-level="6" data-path="create.html"><a href="create.html"><i class="fa fa-check"></i><b>6</b> Create data</a><ul>
<li class="chapter" data-level="6.1" data-path="create.html"><a href="create.html#create-data-from-files"><i class="fa fa-check"></i><b>6.1</b> Create data from files</a></li>
<li class="chapter" data-level="6.2" data-path="create.html"><a href="create.html#scrape-data-from-tables"><i class="fa fa-check"></i><b>6.2</b> Scrape data from tables</a></li>
<li class="chapter" data-level="6.3" data-path="create.html"><a href="create.html#scrape-political-speeches"><i class="fa fa-check"></i><b>6.3</b> Scrape political speeches</a></li>
<li class="chapter" data-level="6.4" data-path="create.html"><a href="create.html#get-data-from-twitter"><i class="fa fa-check"></i><b>6.4</b> Get data from Twitter</a><ul>
<li class="chapter" data-level="6.4.1" data-path="create.html"><a href="create.html#data-on-twitter-user"><i class="fa fa-check"></i><b>6.4.1</b> Data on Twitter user</a></li>
<li class="chapter" data-level="6.4.2" data-path="create.html"><a href="create.html#data-on-trends"><i class="fa fa-check"></i><b>6.4.2</b> Data on trends</a></li>
<li class="chapter" data-level="6.4.3" data-path="create.html"><a href="create.html#data-on-tweets"><i class="fa fa-check"></i><b>6.4.3</b> Data on tweets</a></li>
</ul></li>
</ul></li>
<li class="part"><span><b>II Data visualisation</b></span></li>
<li class="chapter" data-level="7" data-path="dataviz.html"><a href="dataviz.html"><i class="fa fa-check"></i><b>7</b> Introduction to <code>ggplot2</code></a><ul>
<li class="chapter" data-level="7.1" data-path="dataviz.html"><a href="dataviz.html#the-basics-of-ggplot2"><i class="fa fa-check"></i><b>7.1</b> The basics of <code>ggplot2</code></a></li>
<li class="chapter" data-level="7.2" data-path="data.html"><a href="data.html#data"><i class="fa fa-check"></i><b>7.2</b> Data</a></li>
<li class="chapter" data-level="7.3" data-path="dataviz.html"><a href="dataviz.html#aesthetics"><i class="fa fa-check"></i><b>7.3</b> Aesthetics</a></li>
<li class="chapter" data-level="7.4" data-path="dataviz.html"><a href="dataviz.html#geometric-objects"><i class="fa fa-check"></i><b>7.4</b> Geometric objects</a></li>
<li class="chapter" data-level="7.5" data-path="dataviz.html"><a href="dataviz.html#theme-adjustments"><i class="fa fa-check"></i><b>7.5</b> Theme adjustments</a></li>
</ul></li>
<li class="chapter" data-level="8" data-path="presenting-distributions.html"><a href="presenting-distributions.html"><i class="fa fa-check"></i><b>8</b> Presenting distributions</a><ul>
<li class="chapter" data-level="8.1" data-path="presenting-distributions.html"><a href="presenting-distributions.html#bar-plot"><i class="fa fa-check"></i><b>8.1</b> Bar plot</a></li>
<li class="chapter" data-level="8.2" data-path="presenting-distributions.html"><a href="presenting-distributions.html#histograms"><i class="fa fa-check"></i><b>8.2</b> Histograms</a></li>
<li class="chapter" data-level="8.3" data-path="presenting-distributions.html"><a href="presenting-distributions.html#density-plots"><i class="fa fa-check"></i><b>8.3</b> Density plots</a></li>
</ul></li>
<li class="chapter" data-level="9" data-path="presenting-relationships.html"><a href="presenting-relationships.html"><i class="fa fa-check"></i><b>9</b> Presenting relationships</a><ul>
<li class="chapter" data-level="9.1" data-path="presenting-relationships.html"><a href="presenting-relationships.html#box-plot"><i class="fa fa-check"></i><b>9.1</b> Box plot</a></li>
<li class="chapter" data-level="9.2" data-path="presenting-relationships.html"><a href="presenting-relationships.html#scatter-plots"><i class="fa fa-check"></i><b>9.2</b> Scatter plots</a></li>
<li class="chapter" data-level="9.3" data-path="presenting-relationships.html"><a href="presenting-relationships.html#line-plots"><i class="fa fa-check"></i><b>9.3</b> Line plots</a></li>
</ul></li>
<li class="chapter" data-level="10" data-path="manipulating-plots.html"><a href="manipulating-plots.html"><i class="fa fa-check"></i><b>10</b> Manipulating plots</a><ul>
<li class="chapter" data-level="10.1" data-path="manipulating-plots.html"><a href="manipulating-plots.html#themes"><i class="fa fa-check"></i><b>10.1</b> Themes</a></li>
<li class="chapter" data-level="10.2" data-path="manipulating-plots.html"><a href="manipulating-plots.html#colours"><i class="fa fa-check"></i><b>10.2</b> Colours</a></li>
<li class="chapter" data-level="10.3" data-path="manipulating-plots.html"><a href="manipulating-plots.html#labels"><i class="fa fa-check"></i><b>10.3</b> Labels</a></li>
<li class="chapter" data-level="10.4" data-path="manipulating-plots.html"><a href="manipulating-plots.html#axes"><i class="fa fa-check"></i><b>10.4</b> Axes</a></li>
<li class="chapter" data-level="10.5" data-path="manipulating-plots.html"><a href="manipulating-plots.html#confidence-intervals"><i class="fa fa-check"></i><b>10.5</b> Confidence intervals</a></li>
<li class="chapter" data-level="10.6" data-path="manipulating-plots.html"><a href="manipulating-plots.html#making-multiple-plots-in-one"><i class="fa fa-check"></i><b>10.6</b> Making multiple plots in one</a></li>
<li class="chapter" data-level="10.7" data-path="manipulating-plots.html"><a href="manipulating-plots.html#saving-plots"><i class="fa fa-check"></i><b>10.7</b> Saving plots</a></li>
</ul></li>
<li class="part"><span><b>III Regression</b></span></li>
<li class="chapter" data-level="11" data-path="olsreg.html"><a href="olsreg.html"><i class="fa fa-check"></i><b>11</b> OLS regression</a><ul>
<li class="chapter" data-level="11.1" data-path="olsreg.html"><a href="olsreg.html#bivariate-linear-regression"><i class="fa fa-check"></i><b>11.1</b> Bivariate linear regression</a></li>
<li class="chapter" data-level="11.2" data-path="olsreg.html"><a href="olsreg.html#multiple-linear-regression"><i class="fa fa-check"></i><b>11.2</b> Multiple linear regression</a></li>
<li class="chapter" data-level="11.3" data-path="olsreg.html"><a href="olsreg.html#saving-predictions"><i class="fa fa-check"></i><b>11.3</b> Saving predictions</a></li>
<li class="chapter" data-level="11.4" data-path="olsreg.html"><a href="olsreg.html#diagnostic-tests"><i class="fa fa-check"></i><b>11.4</b> Diagnostic tests</a></li>
</ul></li>
<li class="chapter" data-level="12" data-path="glm.html"><a href="glm.html"><i class="fa fa-check"></i><b>12</b> Generalized linear models</a><ul>
<li class="chapter" data-level="12.1" data-path="glm.html"><a href="glm.html#binary-outcomes"><i class="fa fa-check"></i><b>12.1</b> Binary outcomes</a></li>
<li class="chapter" data-level="12.2" data-path="glm.html"><a href="glm.html#other-models"><i class="fa fa-check"></i><b>12.2</b> Other models</a><ul>
<li class="chapter" data-level="12.2.1" data-path="glm.html"><a href="glm.html#event-count"><i class="fa fa-check"></i><b>12.2.1</b> Event count</a></li>
<li class="chapter" data-level="12.2.2" data-path="glm.html"><a href="glm.html#negative-binomial-regression"><i class="fa fa-check"></i><b>12.2.2</b> Negative binomial regression</a></li>
<li class="chapter" data-level="12.2.3" data-path="glm.html"><a href="glm.html#ordinal-outcomes"><i class="fa fa-check"></i><b>12.2.3</b> Ordinal outcomes</a></li>
</ul></li>
</ul></li>
<li class="part"><span><b>IV Presentation</b></span></li>
<li class="chapter" data-level="13" data-path="writing.html"><a href="writing.html"><i class="fa fa-check"></i><b>13</b> Writing</a><ul>
<li class="chapter" data-level="13.1" data-path="writing.html"><a href="writing.html#equations"><i class="fa fa-check"></i><b>13.1</b> Equations</a></li>
</ul></li>
<li class="chapter" data-level="14" data-path="tables.html"><a href="tables.html"><i class="fa fa-check"></i><b>14</b> Tables</a><ul>
<li class="chapter" data-level="14.1" data-path="tables.html"><a href="tables.html#regression-tables"><i class="fa fa-check"></i><b>14.1</b> Regression tables</a><ul>
<li class="chapter" data-level="14.1.1" data-path="tables.html"><a href="tables.html#exporting-the-regression-table"><i class="fa fa-check"></i><b>14.1.1</b> Exporting the regression table</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="15" data-path="references.html"><a href="references.html"><i class="fa fa-check"></i><b>15</b> References</a></li>
</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">Quantitative Politics with R</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="datadownload" class="section level1">
<h1><span class="header-section-number">Chapter 5</span> Get existing data</h1>
<p>There are multiple ways you can get data into <code>R</code>. In this chapter we introduce different strategies for getting data into <code>R</code> from a variety of political data sources. First, we look at data included in packages. Second, we show how you can find datasets online and introduce a resource with a lot of links to political datasets. Third, we introduce a series of different packages that makes it easy to get data into <code>R</code>.</p>
<p>Throughout the chapter we will use the <code>tidyverse</code> package so make sure to load this.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">library</span>(<span class="st">&quot;tidyverse&quot;</span>)</code></pre></div>
<div id="using-data-from-data-packages" class="section level2">
<h2><span class="header-section-number">5.1</span> Using data from data packages</h2>
<p>A lot of the packages we are working with, including packages in the <code>tidyverse</code>, include datasets. To illustrate this, we will be using the package <code>poliscidata</code>.<a href="#fn8" class="footnoteRef" id="fnref8"><sup>8</sup></a> The first thing we will need to do is to install the package.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">install.packages</span>(<span class="st">&quot;poliscidata&quot;</span>)</code></pre></div>
<p>Next, we will need to load the package with <code>library()</code>.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">library</span>(<span class="st">&quot;poliscidata&quot;</span>)</code></pre></div>
<p>There are multiple datasets in the <code>poliscidata</code> package. We will focus on the dataset <code>states</code>, a dataset with variables about the 50 states in the United States. We use the function <code>names()</code> to get a list of all variables in the data frame states (it takes up a lot of space but gives an indication of the variety of variables in the data frame).</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">names</span>(states)</code></pre></div>
<pre><code>##   [1] &quot;abort_rank3&quot;       &quot;abortion_rank12&quot;   &quot;adv_or_more&quot;       &quot;ba_or_more&quot;        &quot;cig_tax12&quot;        
##   [6] &quot;cig_tax12_3&quot;       &quot;conserv_advantage&quot; &quot;conserv_public&quot;    &quot;dem_advantage&quot;     &quot;govt_worker&quot;      
##  [11] &quot;gun_rank3&quot;         &quot;gun_rank11&quot;        &quot;gun_scale11&quot;       &quot;hr_cons_rank11&quot;    &quot;hr_conserv11&quot;     
##  [16] &quot;hr_lib_rank11&quot;     &quot;hr_liberal11&quot;      &quot;hs_or_more&quot;        &quot;obama2012&quot;         &quot;obama_win12&quot;      
##  [21] &quot;pop2000&quot;           &quot;pop2010&quot;           &quot;pop2010_hun_thou&quot;  &quot;popchng0010&quot;       &quot;popchngpct&quot;       
##  [26] &quot;pot_policy&quot;        &quot;prochoice&quot;         &quot;prolife&quot;           &quot;relig_cath&quot;        &quot;relig_prot&quot;       
##  [31] &quot;relig_high&quot;        &quot;relig_low&quot;         &quot;religiosity3&quot;      &quot;romney2012&quot;        &quot;smokers12&quot;        
##  [36] &quot;stateid&quot;           &quot;to_0812&quot;           &quot;uninsured_pct&quot;     &quot;abort_rate05&quot;      &quot;abort_rate08&quot;     
##  [41] &quot;abortlaw3&quot;         &quot;abortlaw10&quot;        &quot;alcohol&quot;           &quot;attend_pct&quot;        &quot;battle04&quot;         
##  [46] &quot;blkleg&quot;            &quot;blkpct04&quot;          &quot;blkpct08&quot;          &quot;blkpct10&quot;          &quot;bush00&quot;           
##  [51] &quot;bush04&quot;            &quot;carfatal&quot;          &quot;carfatal07&quot;        &quot;cig_tax&quot;           &quot;cig_tax_3&quot;        
##  [56] &quot;cigarettes&quot;        &quot;college&quot;           &quot;conpct_m&quot;          &quot;cons_hr06&quot;         &quot;cons_hr09&quot;        
##  [61] &quot;cook_index&quot;        &quot;cook_index3&quot;       &quot;defexpen&quot;          &quot;demhr11&quot;           &quot;dem_hr09&quot;         
##  [66] &quot;demnat06&quot;          &quot;dempct_m&quot;          &quot;demstate06&quot;        &quot;demstate09&quot;        &quot;demstate13&quot;       
##  [71] &quot;density&quot;           &quot;division&quot;          &quot;earmarks_pcap&quot;     &quot;evm&quot;               &quot;evo&quot;              
##  [76] &quot;evo2012&quot;           &quot;evr2012&quot;           &quot;gay_policy&quot;        &quot;gay_policy2&quot;       &quot;gay_policy_con&quot;   
##  [81] &quot;gay_support&quot;       &quot;gay_support3&quot;      &quot;gb_win00&quot;          &quot;gb_win04&quot;          &quot;gore00&quot;           
##  [86] &quot;gun_check&quot;         &quot;gun_dealer&quot;        &quot;gun_murder10&quot;      &quot;gun_rank_rev&quot;      &quot;gunlaw_rank&quot;      
##  [91] &quot;gunlaw_rank3_rev&quot;  &quot;gunlaw_scale&quot;      &quot;hispanic04&quot;        &quot;hispanic08&quot;        &quot;hispanic10&quot;       
##  [96] &quot;indpct_m&quot;          &quot;kerry04&quot;           &quot;libpct_m&quot;          &quot;mccain08&quot;          &quot;modpct_m&quot;         
## [101] &quot;nader00&quot;           &quot;obama08&quot;           &quot;obama_win08&quot;       &quot;over64&quot;            &quot;permit&quot;           
## [106] &quot;pop_18_24&quot;         &quot;pop_18_24_10&quot;      &quot;prcapinc&quot;          &quot;region&quot;            &quot;relig_import&quot;     
## [111] &quot;religiosity&quot;       &quot;reppct_m&quot;          &quot;rtw&quot;               &quot;secularism&quot;        &quot;secularism3&quot;      
## [116] &quot;seniority_sen2&quot;    &quot;south&quot;             &quot;state&quot;             &quot;to_0004&quot;           &quot;to_0408&quot;          
## [121] &quot;trnout00&quot;          &quot;trnout04&quot;          &quot;unemploy&quot;          &quot;union04&quot;           &quot;union07&quot;          
## [126] &quot;union10&quot;           &quot;urban&quot;             &quot;vep00_turnout&quot;     &quot;vep04_turnout&quot;     &quot;vep08_turnout&quot;    
## [131] &quot;vep12_turnout&quot;     &quot;womleg_2007&quot;       &quot;womleg_2010&quot;       &quot;womleg_2011&quot;       &quot;womleg_2015&quot;      
## [136] &quot;cig_taxes&quot;         &quot;cig_taxes_cat&quot;</code></pre>
<p>While the data is available, it is not possible to see in the <em>Environment</em> window. To see the data frame, we can save <code>states</code> in an object of the same name.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">states &lt;-<span class="st"> </span>states</code></pre></div>
<p>Now we can see in the <code>Environment</code> window that we have 50 observations of 135 variables. We will be using this data later, but for now we will see that we have actual data. Using the <code>table()</code> function we can show the distribution of observations in the <code>gay_policy</code> variable, showing data on the Billmanâs policy scale (4 ordinal categories).</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">table</span>(states<span class="op">$</span>gay_policy)</code></pre></div>
<pre><code>## 
##      Most liberal           Liberal      Conservative Most conservative 
##                 6                14                10                20</code></pre>
<p>Here we see that 6 states have a most liberal score, 14 have a liberal score, 10 have a conservative score, and 6 have a most conservative score.</p>
</div>
<div id="download-data-from-webpages" class="section level2">
<h2><span class="header-section-number">5.2</span> Download data from webpages</h2>
<p>A lot of the political datasets you will find are available online and can be downloaded for free. A free resource with an overview of political datasets can be found here: <a href="https://github.com/erikgahner/PolData" class="uri">https://github.com/erikgahner/PolData</a></p>
<p>In this dataset with political datasets, you can find datasets from different topics (international relations, political institutions, democracy etc.). For each dataset you will also be able to see whether it is possible to download the data for free, and if so, what the link to the dataset is.</p>
<p>To illustrate this, we can find the link to download the Global Media Freedom dataset. The dataset is available as a <code>.csv</code> file and get into <code>R</code> with the <code>read.csv()</code> function.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">gmd &lt;-<span class="st"> </span><span class="kw">read.csv</span>(
  <span class="st">&quot;http://faculty.uml.edu/Jenifer_whittenwoodring/GMFD_V2.csv&quot;</span>
  )</code></pre></div>
<p>The dataset consists of the following four variables: <code>id</code>, <code>year</code>, <code>country</code>, <code>mediascore</code>.</p>
<p>In the next sections, we will introduce different packages, that can make it easier to work with different datasets.</p>
</div>
<div id="data-european-social-survey-essurvey" class="section level2">
<h2><span class="header-section-number">5.3</span> Data: European Social Survey (<code>essurvey</code>)</h2>
<p>To get data from European Social Survey (ESS), we will be using the <code>essurvey</code> package <span class="citation">(Cimentada, 2018)</span>. If you do not have a free user, the first step is to go online and create a user: <a href="http://www.europeansocialsurvey.org/user/new" class="uri">http://www.europeansocialsurvey.org/user/new</a></p>
<p>The next thing you need to do is to install the package.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">install.packages</span>(<span class="st">&quot;essurvey&quot;</span>)</code></pre></div>
<p>And then load the package.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">library</span>(<span class="st">&quot;essurvey&quot;</span>)</code></pre></div>
<p>Now you need to set the email you used to register an account. If you donât do this, ESS will not be able to confirm that you have an account, and you will not be able to get access to the data.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">set_email</span>(<span class="st">&quot;your@mail.com&quot;</span>)</code></pre></div>
<p>There are multiple functions to use in order to get data, and for an overview of some of them, check out <a href="https://ropensci.github.io/essurvey/" class="uri">https://ropensci.github.io/essurvey/</a>.</p>
<p>Here, we will provide an example on how to reproduce the main result in <span class="citation">Larsen (2018)</span>. Here we use the <code>import_country()</code> function to import data from Denmark in Round 6 of the ESS.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">ess &lt;-<span class="st"> </span><span class="kw">import_country</span>(<span class="st">&quot;Denmark&quot;</span>, <span class="dv">6</span>)</code></pre></div>
<p>All the recodings are made with the <code>mutate()</code> function.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">ess &lt;-<span class="st"> </span>ess <span class="op">%&gt;%</span>
<span class="st">  </span><span class="kw">mutate</span>(
    <span class="dt">stfgov =</span> <span class="kw">ifelse</span>(stfgov <span class="op">&gt;</span><span class="st"> </span><span class="dv">10</span>, <span class="ot">NA</span>, stfgov),
    <span class="dt">reform =</span> <span class="kw">case_when</span>(inwmme <span class="op">&lt;</span><span class="st"> </span><span class="dv">2</span> <span class="op">~</span><span class="st"> </span><span class="dv">0</span>,
                       inwmme <span class="op">==</span><span class="st"> </span><span class="dv">2</span> <span class="op">&amp;</span><span class="st"> </span>inwdde <span class="op">&lt;</span><span class="st"> </span><span class="dv">19</span> <span class="op">~</span><span class="st"> </span><span class="dv">0</span>,
                       inwmme <span class="op">==</span><span class="st"> </span><span class="dv">2</span> <span class="op">&amp;</span><span class="st"> </span>inwdde <span class="op">&gt;</span><span class="st"> </span><span class="dv">19</span> <span class="op">~</span><span class="st"> </span><span class="dv">1</span>,
                       inwmme <span class="op">&gt;</span><span class="st"> </span><span class="dv">2</span> <span class="op">~</span><span class="st"> </span><span class="dv">1</span>,
                       <span class="ot">TRUE</span> <span class="op">~</span><span class="st"> </span><span class="ot">NA_real_</span>)
  )</code></pre></div>
<p>And the regression model can be achieved with the <code>lm()</code> function.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">lm</span>(stfgov <span class="op">~</span><span class="st"> </span>reform, <span class="dt">data=</span>ess)</code></pre></div>
</div>
<div id="data-manifesto-project-dataset-manifestor" class="section level2">
<h2><span class="header-section-number">5.4</span> Data: Manifesto Project Dataset (<code>manifestoR</code>)</h2>
<p>To use data from the Manifesto Project Dataset, you need to create an account as well. This can be done at: <a href="https://manifesto-project.wzb.eu/signup" class="uri">https://manifesto-project.wzb.eu/signup</a></p>
<p>Next, install and load the package <code>manifestoR</code> <span class="citation">(Lewandowski &amp; Merz, 2018)</span>.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="co"># install the package</span>
<span class="kw">install.packages</span>(<span class="st">&quot;manifestoR&quot;</span>)

<span class="co"># load the package</span>
<span class="kw">library</span>(<span class="st">&quot;manifestoR&quot;</span>)</code></pre></div>
<p>You now need to go to your profile page at <a href="https://manifesto-project.wzb.eu/" class="uri">https://manifesto-project.wzb.eu/</a>. You will need to click on the button to get an API key. You can now click âdownload API Key file (txt)â and place this file in your working directory - or copy your key and use the code below.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">mp_setapikey</span>(<span class="dt">key =</span> <span class="st">&quot;yourKeyHere&quot;</span>)</code></pre></div>
<p>You are now able to download text data from the Manifesto Project into <code>R</code>. We use the <code>mp_corpus()</code> function to download election programmes texts and codings, in this case from Denmark.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">manifesto_dk &lt;-<span class="st"> </span><span class="kw">mp_corpus</span>(countryname <span class="op">==</span><span class="st"> &quot;Denmark&quot;</span>)</code></pre></div>
<p>To see some of the content from the manifesto data, you can try the code below.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">head</span>(<span class="kw">content</span>(manifesto_dk[[<span class="dv">1</span>]]))</code></pre></div>
<p>If you want to find a more detailed description of how to look at the data, please see <a href="https://cran.r-project.org/web/packages/manifestoR/vignettes/manifestoRworkflow.pdf" class="uri">https://cran.r-project.org/web/packages/manifestoR/vignettes/manifestoRworkflow.pdf</a>.</p>
</div>
<div id="data-varieties-of-democracy-vdem" class="section level2">
<h2><span class="header-section-number">5.5</span> Data: Varieties of Democracy (<code>vdem</code>)</h2>
<p>To get data from Varieties of Democracy into <code>R</code>, we are going to use the <code>vdem</code> package <span class="citation">(Coppedge et al., 2017)</span>. This package is not on <code>CRAN</code>, and accordingly, we cannot use <code>install.packages()</code> to install it. Instead, we will have to use the function <code>install_github()</code> as it is on GitHub. In order to do this, you need to have the package <code>devtools</code>. To install this package, you can uncomment the first line below. The second line says that we are using the <code>install_github()</code> function from the <code>devtools</code> package (with <code>::</code>).</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="co">#install.packages(&quot;devtools&quot;)</span>
devtools<span class="op">::</span><span class="kw">install_github</span>(<span class="st">&quot;xmarquez/vdem&quot;</span>)</code></pre></div>
<p>When the package is installed, use <code>library()</code> to load it.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">library</span>(<span class="st">&quot;vdem&quot;</span>)</code></pre></div>
<p>To get the main democracy indices from the data, we can use the <code>extract_vdem()</code> function.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">vdem_data &lt;-<span class="st"> </span><span class="kw">extract_vdem</span>(<span class="dt">section_number =</span> <span class="dv">1</span>)</code></pre></div>
<p>This gives us a dataset with 17,604 observations of 55 variables. To see the first observations, use <code>head()</code> (output not shown).</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">head</span>(vdem_data)</code></pre></div>
</div>
<div id="data-world-development-indicators-wdi" class="section level2">
<h2><span class="header-section-number">5.6</span> Data: World Development Indicators (<code>WDI</code>)</h2>
<p>To use data from the World Bankâs World Development Indicators, we can use the <code>WDI</code> package <span class="citation">(Arel-Bundock, 2018)</span>. For more information on the World Development Indicators, see <a href="https://datacatalog.worldbank.org/dataset/world-development-indicators" class="uri">https://datacatalog.worldbank.org/dataset/world-development-indicators</a>. First, install and load the package.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="co"># install the package</span>
<span class="kw">install.packages</span>(<span class="st">&quot;WDI&quot;</span>)

<span class="co"># load the package</span>
<span class="kw">library</span>(<span class="st">&quot;WDI&quot;</span>)</code></pre></div>
<p>To search for data in the WDI, you can use the <code>WDIsearch()</code> function. In the example below, we search for data on GDP.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">WDIsearch</span>(<span class="st">&quot;gdp&quot;</span>)</code></pre></div>
<p>This returns the indicator and name of the data in WDI. We can see that the indicator for GDP per capita, PPP (constant 2005 international $) is <code>NY.GDP.PCAP.PP.KD</code>. To save the data, use the function <code>WDI()</code>, where you specify the indicator as well as the countries and years you want the data from.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">wdi &lt;-<span class="st"> </span><span class="kw">WDI</span>(<span class="dt">indicator=</span><span class="st">&quot;NY.GDP.PCAP.PP.KD&quot;</span>, 
           <span class="dt">country=</span><span class="kw">c</span>(<span class="st">&quot;US&quot;</span>, <span class="st">&quot;GB&quot;</span>), 
           <span class="dt">start =</span> <span class="dv">1960</span>, 
           <span class="dt">end =</span> <span class="dv">2012</span>)</code></pre></div>
</div>
<div id="data-github-repositories" class="section level2">
<h2><span class="header-section-number">5.7</span> Data: GitHub repositories</h2>
<p>A lot of data today is available in GitHub repositories. To get data from GitHub, we can simply use the <code>read_csv()</code> function. First, find the dataset on GitHub that you would like to use. When you find the dataset, you should click on âRawâ to get to the raw dataset, as shown in Figure <a href="datadownload.html#fig:githubdata">5.1</a>.</p>
<div class="figure"><span id="fig:githubdata"></span>
<img src="fig/githubdata.png" alt="How to get to the raw dataset file on GitHub" width="90%" />
<p class="caption">
Figure 5.1: How to get to the raw dataset file on GitHub
</p>
</div>
<p>Copy the url of the raw dataset and use the <code>read_csv()</code> function in <code>R</code> to load the content of the dataset into <code>R</code>. In the example below, we save a data frame on Danish opinion polls in an object called <code>polls_raw</code>.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">polls_raw &lt;-<span class="st"> </span><span class="kw">read_csv</span>(<span class="st">&quot;https://raw.githubusercontent.com/erikgahner/polls/master/polls.csv&quot;</span>)</code></pre></div>

</div>
</div>
<div class="footnotes">
<hr />
<ol start="8">
<li id="fn8"><p>For more information on the package and the included datasets, see: <a href="https://cran.r-project.org/web/packages/poliscidata/poliscidata.pdf" class="uri">https://cran.r-project.org/web/packages/poliscidata/poliscidata.pdf</a><a href="datadownload.html#fnref8">â©</a></p></li>
</ol>
</div>
            </section>

          </div>
        </div>
      </div>
<a href="text.html" class="navigation navigation-prev " aria-label="Previous page"><i class="fa fa-angle-left"></i></a>
<a href="create.html" class="navigation navigation-next " aria-label="Next page"><i class="fa fa-angle-right"></i></a>
    </div>
  </div>
<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/lunr.js"></script>
<script src="libs/gitbook-2.6.7/js/clipboard.min.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-clipboard.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": {
"github": false,
"facebook": true,
"twitter": true,
"linkedin": false,
"weibo": false,
"instapaper": false,
"vk": false,
"all": ["facebook", "twitter", "linkedin", "weibo", "instapaper"]
},
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 2
},
"edit": {
"link": null,
"text": null
},
"history": {
"link": null,
"text": null
},
"view": {
"link": null,
"text": null
},
"download": ["qpolr.pdf"],
"toc": {
"collapse": "section"
}
});
});
</script>

<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    var src = "";
    if (src === "" || src === "true") src = "https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-MML-AM_CHTML";
    if (location.protocol !== "file:")
      if (/^https?:/.test(src))
        src = src.replace(/^https?:/, '');
    script.src = src;
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>
</body>

</html>
